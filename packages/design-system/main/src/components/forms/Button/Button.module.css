@reference '../../../tailwind.css';

@layer components {
  /* ========================================
     Base Button Styles & States
     ======================================== */

  .button {
    /* Reset & Layout */
    @apply reset-button;
    @apply inline-flex items-center justify-center gap-2;
    @apply relative overflow-hidden;

    /* Typography */
    @apply font-semibold;

    /* Visual */
    @apply rounded-xl;
    @apply border-2 border-transparent;
    @apply shadow-sm;

    /* Animation */
    @apply transition-all duration-200 ease-out;

    /* Interaction */
    cursor: var(--lufa-token-cursor-pointer);
    transform: translateY(0);
  }

  .button:active:not(:disabled) {
    transform: translateY(1px) scale(0.98);
  }

  .button:disabled,
  .button.disabled {
    cursor: var(--lufa-token-cursor-not-allowed);
    @apply opacity-65;
    filter: grayscale(20%) brightness(0.6);
  }

  /* ========================================
     Sizes
     ======================================== */

  .sizeSmall {
    @apply px-md text-sm;
    height: var(--lufa-token-height-button-sm);
  }

  .sizeMedium {
    @apply px-xl text-base;
    height: var(--lufa-token-height-button);
  }

  .sizeLarge {
    @apply px-2xl text-lg;
    height: var(--lufa-token-height-button-lg);
  }

  .fullWidth {
    @apply w-full;
  }

  /* ========================================
     SOLID VARIANT
     ======================================== */

  .variantSolid {
    @apply shadow-md;
  }

  .variantSolid:is(
    :focus-visible:not(:disabled),
    :hover:not(:disabled),
    [data-test-state='focus'],
    [data-test-state='hover']
  ) {
    @apply shadow-lg;
    transform: translateY(-2px);
  }

  /* Solid - Primary */
  .variantSolid.colorPrimary {
    @apply bg-interactive-default text-text-inverse;
  }

  .variantSolid.colorPrimary:disabled {
    @apply bg-text-disabled text-text-secondary shadow-none;
  }

  .variantSolid.colorPrimary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-interactive-focus ring-4 ring-interactive-focus/20;
  }

  .variantSolid.colorPrimary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-interactive-hover;
  }

  /* Solid - Secondary */
  .variantSolid.colorSecondary {
    @apply bg-text-secondary text-text-inverse;
  }

  .variantSolid.colorSecondary:disabled {
    @apply bg-text-disabled text-text-secondary shadow-none;
  }

  .variantSolid.colorSecondary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-text-secondary ring-4 ring-text-secondary/20;
  }

  .variantSolid.colorSecondary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-text-primary;
  }

  /* Solid - Semantic Colors (Success, Warning, Danger) */

  .variantSolid.colorSuccess {
    @apply bg-success-default text-text-inverse shadow-success-default/20;
  }

  .variantSolid.colorSuccess:disabled {
    @apply bg-success-lighter text-success-text shadow-none;
  }

  .variantSolid.colorSuccess:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-success-default ring-4 ring-success-default/20;
  }

  .variantSolid.colorSuccess:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-success-hover shadow-success-hover/30;
  }

  .variantSolid.colorWarning {
    @apply bg-warning-default text-text-inverse shadow-warning-default/20;
  }

  .variantSolid.colorWarning:disabled {
    @apply bg-warning-lighter text-warning-text shadow-none;
  }

  .variantSolid.colorWarning:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-warning-default ring-4 ring-warning-default/20;
  }

  .variantSolid.colorWarning:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-warning-hover shadow-warning-hover/30;
  }

  .variantSolid.colorDanger {
    @apply bg-error-default text-text-inverse shadow-error-default/20;
  }

  .variantSolid.colorDanger:disabled {
    @apply bg-error-lighter text-error-text shadow-none;
  }

  .variantSolid.colorDanger:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-error-default ring-4 ring-error-default/20;
  }

  .variantSolid.colorDanger:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-error-hover shadow-error-hover/30;
  }

  /* ========================================
     OUTLINED VARIANT
     ======================================== */

  .variantOutlined {
    @apply bg-transparent;
  }

  .variantOutlined:is(
    :focus-visible:not(:disabled),
    :hover:not(:disabled),
    [data-test-state='focus'],
    [data-test-state='hover']
  ) {
    @apply shadow-md;
    transform: translateY(-1px);
  }

  /* Outlined - Primary & Secondary */
  .variantOutlined.colorPrimary {
    @apply border-interactive-default text-interactive-default;
  }

  .variantOutlined.colorSecondary {
    @apply border-text-secondary text-text-secondary;
  }

  .variantOutlined.colorPrimary:disabled,
  .variantOutlined.colorSecondary:disabled {
    @apply border-text-disabled text-text-disabled bg-background-tertiary;
  }

  .variantOutlined.colorPrimary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-interactive-focus ring-4 ring-interactive-focus/20;
  }

  .variantOutlined.colorPrimary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-interactive-default text-text-inverse;
  }

  .variantOutlined.colorSecondary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-text-secondary ring-4 ring-text-secondary/20;
  }

  .variantOutlined.colorSecondary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-text-secondary text-text-inverse;
  }

  /* Outlined - Semantic Colors */

  .variantOutlined.colorSuccess {
    @apply border-success-border text-success-text;
  }

  .variantOutlined.colorSuccess:disabled {
    @apply border-success-lighter text-success-lighter bg-success-light;
  }

  .variantOutlined.colorSuccess:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-success-default ring-4 ring-success-default/20;
  }

  .variantOutlined.colorSuccess:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-success-default text-text-inverse border-success-default shadow-success-default/20;
  }

  .variantOutlined.colorWarning {
    @apply border-warning-border text-warning-text;
  }

  .variantOutlined.colorWarning:disabled {
    @apply border-warning-lighter text-warning-lighter bg-warning-light;
  }

  .variantOutlined.colorWarning:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-warning-default ring-4 ring-warning-default/20;
  }

  .variantOutlined.colorWarning:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-warning-default text-text-inverse border-warning-default shadow-warning-default/20;
  }

  .variantOutlined.colorDanger {
    @apply border-error-border text-error-text;
  }

  .variantOutlined.colorDanger:disabled {
    @apply border-error-lighter text-error-lighter bg-error-light;
  }

  .variantOutlined.colorDanger:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-error-default ring-4 ring-error-default/20;
  }

  .variantOutlined.colorDanger:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-error-default text-text-inverse border-error-default shadow-error-default/20;
  }

  /* ========================================
     TEXT VARIANT
     ======================================== */

  .variantText {
    @apply border-transparent shadow-none;
    @apply h-auto px-sm py-xs rounded-md;
    @apply justify-start inline-flex;
    width: fit-content;
    min-width: unset;
  }

  .variantText.colorPrimary {
    @apply text-interactive-default;
  }

  .variantText.colorPrimary:disabled {
    @apply text-interactive-disabled;
  }

  .variantText.colorPrimary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-interactive-focus;
  }

  .variantText.colorPrimary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-interactive-focus;
    transform: scale(1.02);
  }

  .variantText.colorSecondary {
    @apply text-text-secondary;
  }

  .variantText.colorSecondary:disabled {
    @apply text-text-disabled;
  }

  .variantText.colorSecondary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-text-secondary;
  }

  .variantText.colorSecondary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-background-secondary;
  }

  .variantText.colorSuccess {
    @apply text-success-text;
  }

  .variantText.colorSuccess:disabled {
    @apply text-success-lighter;
  }

  .variantText.colorSuccess:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-success-default;
  }

  .variantText.colorSuccess:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-success-lighter;
  }

  .variantText.colorWarning {
    @apply text-warning-text;
  }

  .variantText.colorWarning:disabled {
    @apply text-warning-lighter;
  }

  .variantText.colorWarning:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-warning-default;
  }

  .variantText.colorWarning:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-warning-lighter;
  }

  .variantText.colorDanger {
    @apply text-error-text;
  }

  .variantText.colorDanger:disabled {
    @apply text-error-lighter;
  }

  .variantText.colorDanger:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-error-default;
  }

  .variantText.colorDanger:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-error-lighter;
  }

  /* ========================================
     GHOST VARIANT
     ======================================== */

  .variantGhost {
    @apply border-transparent;
  }

  .variantGhost.colorPrimary {
    @apply text-interactive-default;
  }

  .variantGhost.colorPrimary:disabled {
    @apply text-interactive-disabled;
  }

  .variantGhost.colorPrimary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-interactive-focus;
  }

  .variantGhost.colorPrimary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-interactive-focus;
    transform: scale(1.02);
  }

  .variantGhost.colorSecondary {
    @apply text-text-secondary;
  }

  .variantGhost.colorSecondary:disabled {
    @apply text-text-disabled;
  }

  .variantGhost.colorSecondary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-text-secondary;
  }

  .variantGhost.colorSecondary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-background-tertiary;
  }

  .variantGhost.colorSuccess {
    @apply text-success-text;
  }

  .variantGhost.colorSuccess:disabled {
    @apply text-success-lighter;
  }

  .variantGhost.colorSuccess:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-success-default;
  }

  .variantGhost.colorSuccess:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-success-light;
  }

  .variantGhost.colorWarning {
    @apply text-warning-text;
  }

  .variantGhost.colorWarning:disabled {
    @apply text-warning-lighter;
  }

  .variantGhost.colorWarning:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-warning-default;
  }

  .variantGhost.colorWarning:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-warning-light;
  }

  .variantGhost.colorDanger {
    @apply text-error-text;
  }

  .variantGhost.colorDanger:disabled {
    @apply text-error-lighter;
  }

  .variantGhost.colorDanger:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-1 outline-error-default;
  }

  .variantGhost.colorDanger:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply bg-error-light;
  }

  /* ========================================
     LINK VARIANT
     ======================================== */

  .variantLink {
    @apply border-0 p-0 shadow-none;
    @apply h-auto rounded-none;
    @apply underline-offset-4 font-normal;
    @apply justify-start inline-flex;
    @apply relative;
    width: fit-content;
    min-width: unset;
  }

  .variantLink::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-0.5 bg-current;
    @apply transition-all duration-300;
  }

  .variantLink:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    )::after {
    @apply w-full;
  }

  .variantLink.colorPrimary {
    @apply text-text-link;
  }

  .variantLink.colorPrimary:disabled {
    @apply text-interactive-disabled no-underline;
  }

  .variantLink.colorPrimary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-interactive-focus;
  }

  .variantLink.colorPrimary:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply text-text-link-hover;
  }

  .variantLink.colorSecondary {
    @apply text-text-secondary;
  }

  .variantLink.colorSecondary:disabled {
    @apply text-text-disabled no-underline;
  }

  .variantLink.colorSecondary:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-text-secondary;
  }

  .variantLink.colorSuccess {
    @apply text-success-text;
  }

  .variantLink.colorSuccess:disabled {
    @apply text-success-lighter no-underline;
  }

  .variantLink.colorSuccess:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-success-default;
  }

  .variantLink.colorSuccess:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply text-success-hover;
  }

  .variantLink.colorWarning {
    @apply text-warning-text;
  }

  .variantLink.colorWarning:disabled {
    @apply text-warning-lighter no-underline;
  }

  .variantLink.colorWarning:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-warning-default;
  }

  .variantLink.colorWarning:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply text-warning-hover;
  }

  .variantLink.colorDanger {
    @apply text-error-text;
  }

  .variantLink.colorDanger:disabled {
    @apply text-error-lighter no-underline;
  }

  .variantLink.colorDanger:is(:focus-visible, [data-test-state='focus']) {
    @apply outline-2 outline-offset-2 outline-error-default;
  }

  .variantLink.colorDanger:is(
      :focus-visible:not(:disabled),
      :hover:not(:disabled),
      [data-test-state='focus'],
      [data-test-state='hover']
    ) {
    @apply text-error-hover;
  }

  /* ========================================
     Loading State
     ======================================== */

  .loading {
    @apply cursor-wait opacity-70;
  }

  .loading .content {
    @apply opacity-0;
  }

  /* ========================================
     Icons & Content
     ======================================== */

  .startIcon,
  .endIcon {
    @apply inline-flex shrink-0;
  }

  .content {
    @apply inline-flex items-center;
  }

  /* ========================================
     Spinner
     ======================================== */

  .spinner {
    @apply absolute inset-0 flex items-center justify-center;
  }

  .spinnerIcon {
    @apply h-5 w-5;
    animation: var(--animate-spin);
  }

  .spinnerCircle {
    @apply opacity-25;
  }

  .spinnerPath {
    @apply opacity-75;
  }
}
