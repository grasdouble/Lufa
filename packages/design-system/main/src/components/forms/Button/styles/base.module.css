@reference '../../../../tailwind.css';

@layer components {
  /* ========================================
     Base Button Styles & States
     ======================================== */

  /* Button-specific tokens */
  .button {
    /* Focus outline offset - from focus tokens */
    --btn-outline-offset: 2px;
    /* Disabled filter effects - TODO: Move to tokens layer */
    --btn-disabled-grayscale: 20%;
    --btn-disabled-brightness: 0.6;
    /* Reset & Layout */
    @apply reset-button;
    @apply inline-flex items-center justify-center gap-2;
    @apply relative overflow-hidden;

    /* Typography */
    @apply font-semibold;

    /* Visual */
    @apply rounded-xl;
    border-width: theme(borderWidth.thin);
    @apply border-transparent;
    @apply shadow-sm;

    /* Animation */
    @apply transition-all duration-200 ease-out;

    /* Interaction */
    cursor: var(--lufa-token-cursor-pointer);
    transform: translateY(0);
  }

  .button:active:not(:disabled) {
    transform: var(--transform-pressed);
  }

  .button:disabled,
  .button.disabled {
    cursor: var(--lufa-token-cursor-not-allowed);
    opacity: theme(opacity.disabled);
    filter: grayscale(var(--btn-disabled-grayscale)) brightness(var(--btn-disabled-brightness));
  }

  /* ========================================
     Layout & Content
     ======================================== */

  .fullWidth {
    @apply w-full;
  }

  /* ========================================
     Loading State
     ======================================== */

  .loading {
    @apply cursor-wait opacity-70;
  }

  .loading .content {
    @apply opacity-0;
  }

  /* ========================================
     Icons & Content
     ======================================== */

  .startIcon,
  .endIcon {
    @apply inline-flex shrink-0;
  }

  .content {
    @apply inline-flex items-center;
  }

  /* ========================================
     Spinner
     ======================================== */

  .spinner {
    @apply absolute inset-0 flex items-center justify-center;
  }

  .spinnerIcon {
    @apply h-5 w-5;
    animation: var(--animate-spin);
  }

  .spinnerCircle {
    @apply opacity-25;
  }

  .spinnerPath {
    @apply opacity-75;
  }

  /* ========================================
     Button Sizes
     ======================================== */

  .sizeSmall {
    @apply px-md text-sm;
    height: var(--lufa-token-height-button-sm);
  }

  .sizeMedium {
    @apply px-xl text-base;
    height: var(--lufa-token-height-button);
  }

  .sizeLarge {
    @apply px-2xl text-lg;
    height: var(--lufa-token-height-button-lg);
  }
}
