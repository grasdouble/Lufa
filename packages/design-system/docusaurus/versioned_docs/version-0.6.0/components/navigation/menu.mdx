---
sidebar_position: 4
---

import { Menu } from '@grasdouble/lufa_design-system';

import {
  HeaderNavExample,
  LiveDemo,
  Mode,
  SelectedKey,
  SubmenuExample,
  Theme,
} from '@site/src/dsExamples/navigation/menu';

# Menu

import { DarkModeCompatible } from '@site/src/components/DarkModeCompatible';

<DarkModeCompatible />

Navigation and action list with optional nested items. Display hierarchical navigation structures or action menus in vertical, horizontal, or inline layouts.

## Overview

Use `Menu` when you need‚Ä¶

- A navigation/action list for pages or sections
- Items via `items` (including optional nesting)
- Layout via `mode`
- Styling via `theme`
- Controlled selection via `selectedKey` + `onSelect`

## Live Demo

<LiveDemo />

## Import

```tsx
import { Menu } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx
<Menu
  items={[
    { key: 'home', label: 'Home', href: '/' },
    { key: 'products', label: 'Products', href: '/products' },
    { key: 'about', label: 'About', href: '/about' },
  ]}
/>
```

## Anatomy

The Menu component consists of several key parts:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [Icon] Item 1           ‚îÇ  ‚Üê Menu Item
‚îÇ  [Icon] Item 2      [‚ñ∏]  ‚îÇ  ‚Üê Menu Item with Submenu Indicator
‚îÇ    ‚îú‚îÄ Submenu Item 1     ‚îÇ  ‚Üê Submenu (nested)
‚îÇ    ‚îî‚îÄ Submenu Item 2     ‚îÇ
‚îÇ  [Icon] Item 3           ‚îÇ  ‚Üê Menu Item (selected)
‚îÇ         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê          ‚îÇ  ‚Üê Selection Indicator
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Component Structure:**

- **Menu Container**: Navigation wrapper with role="navigation"
- **Menu List**: Unordered list containing all menu items
- **Menu Item**: Individual clickable item (can be link or button)
- **Item Icon** (optional): Leading icon before label
- **Item Label**: Text content for the item
- **Submenu Indicator** (optional): Arrow showing expandable children (‚ñ∏)
- **Submenu**: Nested list of child items (collapsible)
- **Selection Indicator**: Visual highlight showing active item

**Visual States:**

- **Default**: Normal interactive state
- **Hover**: Visual feedback on mouse over
- **Focus**: Keyboard navigation indicator
- **Selected**: Active/current menu item with visual emphasis
- **Disabled**: Reduced opacity, not focusable, no interaction
- **Expanded**: Submenu visible with rotated arrow indicator

## API Reference

### Props

| Prop          | Type                                     | Default      | Description              |
| ------------- | ---------------------------------------- | ------------ | ------------------------ |
| `items`       | `MenuItem[]`                             | -            | Array of menu items      |
| `selectedKey` | `string`                                 | -            | Selected menu item key   |
| `mode`        | `'vertical' \| 'horizontal' \| 'inline'` | `'vertical'` | Menu display mode        |
| `theme`       | `'light' \| 'dark'`                      | `'light'`    | Theme variant            |
| `className`   | `string`                                 | -            | Additional CSS class     |
| `onSelect`    | `(key: string) => void`                  | -            | Selection change handler |

### MenuItem

| Property   | Type         | Description                  |
| ---------- | ------------ | ---------------------------- |
| `key`      | `string`     | Unique identifier            |
| `label`    | `string`     | Label to display             |
| `icon`     | `ReactNode`  | Icon before label (optional) |
| `onClick`  | `() => void` | Click handler (optional)     |
| `href`     | `string`     | Link URL (optional)          |
| `disabled` | `boolean`    | Disabled state (optional)    |
| `children` | `MenuItem[]` | Submenu items (optional)     |

Also supports all standard HTML `nav` attributes for the container element.

### Mode Details

- **vertical**: Stacked menu items (default, good for sidebars)
- **horizontal**: Side-by-side menu items (good for top navigation bars)
- **inline**: Nested submenu items inline with parent (good for file trees, nested navigation)

### Theme Details

- **light**: Light background with dark text (default)
- **dark**: Dark background with light text (good for dark mode or sidebar contrast)

## Variants

### mode

<Mode />

### theme

<Theme />

### selectedKey / onSelect

<SelectedKey />

## Best Practices

### Do ‚úÖ

- Use `selectedKey` + `onSelect` for controlled navigation state
- Keep labels short and predictable
- Use `mode="horizontal"` for top nav and `mode="vertical"` for side nav

### Don't ‚ùå

- Don‚Äôt use menus as the only way to access critical actions; provide clear primary actions elsewhere
- Don‚Äôt nest too deeply; consider restructuring navigation for long trees

## Accessibility

The Menu component is designed with WCAG 2.1 AA compliance in mind:

### Keyboard Navigation

- **Tab**: Navigate to first/next menu item
- **Shift + Tab**: Navigate to previous menu item
- **Enter/Space**: Activate menu item or toggle submenu
- **Arrow Down**: Navigate to next item (vertical/inline mode)
- **Arrow Up**: Navigate to previous item (vertical/inline mode)
- **Arrow Right**: Navigate to next item (horizontal mode) or expand submenu
- **Arrow Left**: Navigate to previous item (horizontal mode) or collapse submenu
- **Escape**: Close expanded submenu

All menu items are keyboard accessible with visible focus indicators.

### Screen Reader Support

**For Standard Menu Items:**

```tsx
<Menu
  items={[
    { key: 'home', label: 'Home', href: '/' },
    { key: 'about', label: 'About', href: '/about' },
  ]}
/>
// Screen reader announces: "Home, link" or "About, link"
```

**For Menu Items with Icons:**

```tsx
<Menu
  items={[
    { key: 'dashboard', label: 'Dashboard', icon: <DashboardIcon />, href: '/dashboard' },
    { key: 'settings', label: 'Settings', icon: <SettingsIcon />, href: '/settings' },
  ]}
/>
// Screen reader announces: "Dashboard, link" (icon is decorative)
```

**For Submenu Items:**

```tsx
<Menu
  items={[
    {
      key: 'products',
      label: 'Products',
      children: [
        { key: 'electronics', label: 'Electronics', href: '/electronics' },
        { key: 'clothing', label: 'Clothing', href: '/clothing' },
      ],
    },
  ]}
/>
// Parent announces: "Products, button, collapsed"
// When expanded: "Products, button, expanded"
```

**For Disabled Items:**

```tsx
<Menu
  items={[
    { key: 'available', label: 'Available', href: '/available' },
    { key: 'disabled', label: 'Disabled', disabled: true },
  ]}
/>
// Disabled item announces: "Disabled, unavailable"
```

### Best Practices for Accessibility

#### Do ‚úÖ

- Provide clear, descriptive labels for all menu items
- Use icons in addition to text labels, not instead of them
- Ensure logical menu item order (related items grouped together)
- Use `href` for navigation links, `onClick` for actions
- Keep submenu nesting to 2 levels maximum
- Provide visible focus indicators (default focus ring)

#### Don't ‚ùå

- Don't use icon-only menu items without aria-label
- Don't nest submenus too deeply (confusing navigation)
- Don't change menu structure dynamically without warning
- Don't remove focus outlines (breaks keyboard navigation)
- Don't disable items without explanation in UI

### ARIA Attributes

The component automatically handles:

- `role="navigation"` on the menu container
- `role="button"` on items with submenus
- `tabindex="0"` on focusable items, `tabindex="-1"` on disabled items
- Keyboard event handlers for Enter and Space keys

Additional ARIA attributes can be passed as props:

```tsx
<Menu items={items} aria-label="Main navigation" />
```

### Color Contrast

All menu variants meet WCAG 2.1 AA contrast requirements:

- Menu item text: Minimum 4.5:1 contrast ratio
- Selected item indicator: Minimum 3:1 contrast ratio
- Disabled items: Reduced opacity while maintaining readable contrast
- Icons: Minimum 3:1 contrast ratio

Tested in both light and dark themes.

## Common Patterns

### Sidebar Navigation

```tsx title="src/components/Sidebar.tsx"
import { Menu } from '@grasdouble/lufa_design-system';

import { FileIcon, HomeIcon, SettingsIcon, UsersIcon } from './icons';

function Sidebar() {
  return (
    <Menu
      mode="vertical"
      theme="dark"
      selectedKey="dashboard"
      items={[
        {
          key: 'dashboard',
          label: 'Dashboard',
          icon: <HomeIcon />,
          href: '/dashboard',
        },
        {
          key: 'users',
          label: 'Users',
          icon: <UsersIcon />,
          href: '/users',
        },
        {
          key: 'settings',
          label: 'Settings',
          icon: <SettingsIcon />,
          children: [
            { key: 'general', label: 'General', href: '/settings/general' },
            { key: 'security', label: 'Security', href: '/settings/security' },
            { key: 'billing', label: 'Billing', href: '/settings/billing' },
          ],
        },
        {
          key: 'reports',
          label: 'Reports',
          icon: <FileIcon />,
          href: '/reports',
        },
      ]}
    />
  );
}
```

### Top Navigation Bar

```tsx title="src/components/Header.tsx"
import { Menu } from '@grasdouble/lufa_design-system';

function Header() {
  return (
    <Menu
      mode="horizontal"
      selectedKey="products"
      items={[
        { key: 'home', label: 'Home', href: '/' },
        { key: 'products', label: 'Products', href: '/products' },
        { key: 'about', label: 'About', href: '/about' },
        { key: 'contact', label: 'Contact', href: '/contact' },
      ]}
    />
  );
}
```

### Context Menu with Actions

```tsx title="src/components/ContextMenu.tsx"
import { Menu } from '@grasdouble/lufa_design-system';

function ContextMenu({ onEdit, onDuplicate, onDelete }) {
  return (
    <Menu
      mode="vertical"
      items={[
        {
          key: 'edit',
          label: 'Edit',
          icon: '‚úèÔ∏è',
          onClick: onEdit,
        },
        {
          key: 'duplicate',
          label: 'Duplicate',
          icon: 'üìã',
          onClick: onDuplicate,
        },
        {
          key: 'delete',
          label: 'Delete',
          icon: 'üóëÔ∏è',
          onClick: onDelete,
        },
      ]}
    />
  );
}
```

### Controlled Menu with Router

```tsx title="src/components/AppMenu.tsx"
import { useLocation, useNavigate } from 'react-router-dom';

import { Menu } from '@grasdouble/lufa_design-system';

function AppMenu() {
  const navigate = useNavigate();
  const location = useLocation();

  const handleSelect = (key: string) => {
    const routes = {
      home: '/',
      dashboard: '/dashboard',
      profile: '/profile',
      settings: '/settings',
    };
    navigate(routes[key] || '/');
  };

  // Extract current route key
  const currentKey = location.pathname.slice(1) || 'home';

  return (
    <Menu
      mode="vertical"
      selectedKey={currentKey}
      onSelect={handleSelect}
      items={[
        { key: 'home', label: 'Home' },
        { key: 'dashboard', label: 'Dashboard' },
        { key: 'profile', label: 'Profile' },
        { key: 'settings', label: 'Settings' },
      ]}
    />
  );
}
```

### Multi-Level Nested Menu

```tsx title="src/components/NestedMenu.tsx"
import { Menu } from '@grasdouble/lufa_design-system';

function NestedMenu() {
  return (
    <Menu
      mode="inline"
      items={[
        {
          key: 'products',
          label: 'Products',
          children: [
            {
              key: 'electronics',
              label: 'Electronics',
              children: [
                { key: 'laptops', label: 'Laptops', href: '/products/electronics/laptops' },
                { key: 'phones', label: 'Phones', href: '/products/electronics/phones' },
              ],
            },
            {
              key: 'clothing',
              label: 'Clothing',
              children: [
                { key: 'mens', label: "Men's", href: '/products/clothing/mens' },
                { key: 'womens', label: "Women's", href: '/products/clothing/womens' },
              ],
            },
          ],
        },
        { key: 'deals', label: 'Deals', href: '/deals' },
        { key: 'support', label: 'Support', href: '/support' },
      ]}
    />
  );
}
```

## Examples of usage

<SubmenuExample />
<HeaderNavExample />

## Related Components

- **Tabs** - For organizing content into switchable panels
- **Breadcrumb** - For showing hierarchical navigation path
- **Link** - For simple navigation links
- **Anchor** - For in-page navigation links
- **Steps** - For linear step-by-step processes

## TypeScript Support

The Menu component is fully typed with TypeScript:

```tsx
import type { ReactNode } from 'react';

export type MenuItem = {
  key: string;
  label: string;
  icon?: ReactNode;
  onClick?: () => void;
  href?: string;
  disabled?: boolean;
  children?: MenuItem[];
};

export type MenuProps = {
  items: MenuItem[];
  selectedKey?: string;
  mode?: 'vertical' | 'horizontal' | 'inline';
  theme?: 'light' | 'dark';
  className?: string;
  onSelect?: (key: string) => void;
};
```

This ensures type safety and autocomplete in your IDE.
