---
sidebar_position: 3
---

import { AvatarGroup } from '@grasdouble/lufa_design-system';

import {
  InlineAssigneesExample,
  LiveDemo,
  Max,
  ProjectCardHeaderExample,
  Size,
} from '../../_examples/display/avatarGroup';

# AvatarGroup

import { DarkModeCompatible } from '../../../src/components/DarkModeCompatible';

<DarkModeCompatible />

Displays multiple avatars with overlap and an optional "+N" count when the list is truncated.

## Overview

Use `AvatarGroup` when you need…

- A compact representation of multiple people (overlap)
- A shared `size` applied to all child avatars
- A `max` limit with a trailing `+N` count for long lists

## Live Demo

<LiveDemo />

## Import

```tsx
import { Avatar, AvatarGroup } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx
<AvatarGroup max={3} size="md">
  <Avatar src="/a.jpg" alt="Alice" />
  <Avatar src="/b.jpg" alt="Bob" />
  <Avatar src="/c.jpg" alt="Chris" />
  <Avatar src="/d.jpg" alt="Denise" />
</AvatarGroup>
```

## Anatomy

The AvatarGroup component stacks avatars with overlapping layout:

```
┌──────────────────────┐
│  ○ ○ ○ +2           │
│  1 2 3 count         │
└──────────────────────┘
   ↑ ↑ ↑  ↑
   │ │ │  └─ Overflow count avatar (+N)
   │ │ └──── Avatar 3 (overlaps 2)
   │ └────── Avatar 2 (overlaps 1)
   └──────── Avatar 1 (base layer)
```

**Component Structure:**
- **Container**: Flex container with negative margin for overlap
- **Avatar Stack**: Child avatars rendered with z-index layering
- **Overflow Counter**: Optional "+N" avatar showing remaining count
- **Border Rings**: Subtle borders to separate overlapping avatars

**Visual States:**
- **Default**: Avatars stacked with slight overlap (left-to-right)
- **Truncated**: When `max` is set, shows visible avatars + count
- **Sized**: All avatars inherit size from group or individual prop

## API Reference

### Props

| Prop       | Type                                   | Default | Description                                    |
| ---------- | -------------------------------------- | ------- | ---------------------------------------------- |
| `children` | `ReactNode`                            | -       | Avatars to render                              |
| `max`      | `number`                               | -       | Maximum avatars displayed before showing `+N`  |
| `size`     | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl'` | `'md'`  | Applies a size to all child avatars (if unset) |

Also supports all standard HTML `div` attributes for the container element.

### Max Details

When `max` is set and the number of avatars exceeds this limit:
- Only the first `max` avatars are displayed
- A special count avatar shows the remaining count (e.g., "+3")
- The count avatar inherits the same size as other avatars

### Size Details

- **xs**: Extra small (24px) - for compact lists
- **sm**: Small (32px) - for dense UI
- **md**: Medium (40px) - default, balanced size
- **lg**: Large (48px) - for prominent display
- **xl**: Extra large (64px) - for hero sections

The `size` prop cascades to all child avatars unless they specify their own size.

## Variants

### max

<Max />

### size

<Size />

## Best Practices

### Do ✅

- Use `max` when the available space is constrained
- Keep children as `Avatar` components so `size` can be applied consistently
- Ensure each avatar has meaningful `alt` text (or `alt=""` if decorative)

### Don't ❌

- Don’t use `AvatarGroup` as the only way to convey identity; pair it with names when needed
- Don’t mix arbitrary children; layout and sizing is optimized for avatars

## Accessibility

The AvatarGroup component is designed with WCAG 2.1 AA compliance in mind:

### Screen Reader Support

**For Non-Interactive Groups:**
```tsx
<AvatarGroup aria-label="Team members">
  <Avatar src="/alice.jpg" alt="Alice Johnson" />
  <Avatar src="/bob.jpg" alt="Bob Smith" />
  <Avatar src="/charlie.jpg" alt="Charlie Brown" />
</AvatarGroup>
// Screen reader announces: "Team members, group" then reads each avatar's alt text
```

**For Groups with Max Limit:**
```tsx
<AvatarGroup max={3} aria-label="Project contributors">
  {/* 5 avatars */}
</AvatarGroup>
// Last visible item announces: "+2 more" (count avatar has descriptive text)
```

### Best Practices for Accessibility

#### Do ✅

- Provide descriptive `alt` text for each avatar image
- Use `aria-label` on the group to describe its purpose (e.g., "Team members", "Assignees")
- Ensure avatar images have meaningful names (not "user1.jpg")
- If avatars are clickable, wrap them in buttons/links with proper labels
- Maintain visible focus indicators for interactive avatars

#### Don't ❌

- Don't use decorative `alt=""` for avatar images (they convey identity)
- Don't rely solely on visual overlap to convey relationships
- Don't make the group interactive without keyboard support
- Don't hide important user information in the overflow count

### ARIA Attributes

The component automatically handles:
- Container is a standard `div` (inherits semantic meaning from context)
- Count avatar displays "+N" text visually and to screen readers

Additional ARIA attributes can be passed as props:

```tsx
<AvatarGroup
  max={4}
  size="md"
  aria-label="Assigned team members"
>
  {avatars}
</AvatarGroup>
```

### Color Contrast

Avatar borders and overlays meet WCAG 2.1 AA contrast requirements:
- Border rings: Minimum 3:1 contrast ratio against background
- Count avatar background: Minimum 4.5:1 contrast ratio for text
- Works in both light and dark modes

## Common Patterns

### Team Member List

```tsx title="src/components/TeamMembers.tsx"
import { Avatar, AvatarGroup } from '@grasdouble/lufa_design-system';

function TeamMembers({ members }) {
  return (
    <AvatarGroup max={5} size="md" aria-label="Team members">
      {members.map((member) => (
        <Avatar
          key={member.id}
          src={member.avatar}
          alt={member.name}
        />
      ))}
    </AvatarGroup>
  );
}
```

### Interactive Assignees

```tsx title="src/components/AssigneeList.tsx"
import { Avatar, AvatarGroup } from '@grasdouble/lufa_design-system';

function AssigneeList({ assignees, onAssigneeClick }) {
  return (
    <AvatarGroup max={3} size="sm" aria-label="Task assignees">
      {assignees.map((assignee) => (
        <button
          key={assignee.id}
          onClick={() => onAssigneeClick(assignee)}
          style={{ padding: 0, border: 'none', background: 'none', cursor: 'pointer' }}
          aria-label={`View ${assignee.name}'s profile`}
        >
          <Avatar src={assignee.avatar} alt={assignee.name} />
        </button>
      ))}
    </AvatarGroup>
  );
}
```

### Compact Participant List

```tsx title="src/components/MeetingParticipants.tsx"
import { Avatar, AvatarGroup } from '@grasdouble/lufa_design-system';

function MeetingParticipants({ participants, maxVisible = 4 }) {
  return (
    <div>
      <p>Participants ({participants.length})</p>
      <AvatarGroup max={maxVisible} size="xs" aria-label="Meeting participants">
        {participants.map((participant) => (
          <Avatar
            key={participant.id}
            src={participant.avatar}
            alt={participant.name}
          />
        ))}
      </AvatarGroup>
    </div>
  );
}
```

## Examples of usage

<ProjectCardHeaderExample />
<InlineAssigneesExample />

## Related Components

- **Avatar** - Individual user representation (used as children)
- **Badge** - For status indicators on avatars
- **Tooltip** - For showing full names on hover
- **Card** - Often contains avatar groups in headers

## TypeScript Support

The AvatarGroup component is fully typed with TypeScript:

```tsx
import type { HTMLAttributes, ReactNode } from 'react';
import type { AvatarProps } from '../Avatar';

export type AvatarGroupProps = {
  max?: number;
  children: ReactNode;
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
} & HTMLAttributes<HTMLDivElement>;
```

This ensures type safety and autocomplete in your IDE.
