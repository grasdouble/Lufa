---
sidebar_position: 2
---

import { Avatar } from '@grasdouble/lufa_design-system';

import {
  CommentHeaderExample,
  CountAvatarExample,
  LiveDemo,
  Size,
  Status,
  StatusPosition,
  Variant,
} from '../../_examples/display/avatar';
import { DarkModeCompatible } from '../../../src/components/DarkModeCompatible';

# Avatar

<DarkModeCompatible />

Profile image component with size and shape variants, optional status indicator, and a count variant for "+N" avatars.

## Overview

Use `Avatar` when you need…

- A consistent visual identifier for a person or entity
- Sizes via `size` (`xs` → `xl`)
- Shapes or special rendering via `variant` (`circle`, `square`, `count`)
- A presence indicator via `status` and `statusPosition`

## Live Demo

<LiveDemo />

## Import

```tsx
import { Avatar } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx
<Avatar src="/path/to/image.jpg" alt="Jane Doe" />

<Avatar src="/path/to/image.jpg" status="online" />

<Avatar variant="count" count="+3" />
```

## Anatomy

The Avatar component consists of several key parts:

```
┌──────────────────┐
│                  │
│   ┌────────┐     │  ← Container
│   │        │◉    │  ← Image + Status Indicator
│   │ Image  │     │
│   │        │     │
│   └────────┘     │
│                  │
└──────────────────┘
     ↑         ↑
     │         └─ Status indicator (online/offline/away/busy)
     └─────────── Image or fallback

Count Variant:
┌────────┐
│  +3    │  ← Count display (no image)
└────────┘
```

**Component Structure:**
- **Container**: Relative positioning wrapper for image and status indicator
- **Image**: User profile picture with configurable shape and size
- **Fallback**: Default "Avatar" alt text when image fails to load
- **Status Indicator** (optional): Colored dot showing user presence/availability
- **Border Ring**: Visual boundary around avatar and status indicator
- **Count Variant** (alternative): Text-only display for overflow indicators

**Visual States:**
- **Default**: Avatar with optional status indicator
- **Circle**: Rounded shape (default, most common)
- **Square**: Rounded rectangle shape (less common)
- **Count**: Text display for "+N" overflow avatars
- **With Status**: Presence indicator positioned at top or bottom corner

## API Reference

### Props

| Prop             | Type                                                  | Default    | Description                             |
| ---------------- | ----------------------------------------------------- | ---------- | --------------------------------------- |
| `src`            | `string`                                              | -          | Image URL                               |
| `alt`            | `string`                                              | `"Avatar"` | Alternative text                        |
| `size`           | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl'`                | `'md'`     | Avatar size                             |
| `variant`        | `'circle' \| 'square' \| 'count'`                     | `'circle'` | Shape / rendering variant               |
| `status`         | `'online' \| 'offline' \| 'away' \| 'busy' \| 'none'` | `'none'`   | Status indicator (not for `count`)      |
| `statusPosition` | `'top' \| 'bottom'`                                   | `'bottom'` | Status indicator position               |
| `count`          | `string \| number`                                    | -          | Count text (only for `variant="count"`) |
| `className`      | `string`                                              | -          | Additional CSS class                    |

Also supports all standard HTML `div` attributes for the container element.

### Size Details

- **xs**: Extra small avatar (24px × 24px) - Use in dense lists or inline with text
- **sm**: Small avatar (32px × 32px) - Use in compact layouts or comment threads
- **md**: Medium avatar (40px × 40px) - Default size for most use cases
- **lg**: Large avatar (48px × 48px) - Use in profile headers or prominent displays
- **xl**: Extra large avatar (64px × 64px) - Use in hero sections or detailed profile pages

### Variant Details

- **circle**: Fully rounded avatar (default, most common for user photos)
- **square**: Rounded rectangle (good for brand logos or app icons)
- **count**: Text-only display for "+N" overflow indicators in avatar groups

### Status Details

- **online**: Green indicator - User is active and available
- **offline**: Gray indicator - User is offline or unavailable
- **away**: Yellow indicator - User is idle or away from keyboard
- **busy**: Red indicator - User is in do-not-disturb mode
- **none**: No status indicator (default, when presence is unknown)

### Status Position Details

- **top**: Status indicator at top-right corner
- **bottom**: Status indicator at bottom-right corner (default)

## Variants

### size

<Size />

### variant

<Variant />

### status

<Status />

### statusPosition

<StatusPosition />

## Best Practices

### Do ✅

- Provide meaningful `alt` text for real user images
- Use `status="none"` (or omit `status`) when presence is unknown
- Use `variant="count"` for overflow indicators (not as a user avatar)

### Don't ❌

- Don’t use `variant="count"` with user `src`/`alt`; it’s a different semantic
- Don’t rely on status color alone to convey critical information

## Accessibility

The Avatar component is designed with WCAG 2.1 AA compliance in mind:

### Keyboard Navigation

Avatars are typically not interactive elements themselves. If you need clickable avatars:

```tsx
<button onClick={() => navigate('/profile')}>
  <Avatar src="/user.jpg" alt="John Doe" />
</button>
```

- **Tab**: Navigate to interactive avatar (when wrapped in button/link)
- **Enter/Space**: Activate avatar action (when wrapped in button/link)

### Screen Reader Support

**For User Avatars:**
```tsx
<Avatar src="/user.jpg" alt="Jane Smith" />
// Screen reader announces: "Jane Smith" (img element reads alt text)
```

**For Decorative Avatars:**
```tsx
<div>
  <Avatar src="/user.jpg" alt="" />
  <span>Jane Smith</span>
</div>
// Screen reader announces: "Jane Smith" (empty alt, name in adjacent text)
```

**For Avatars with Status:**
```tsx
<Avatar src="/user.jpg" alt="John Doe" status="online" />
// Image announces: "John Doe"
// Status announces: "Status: online" (via role="status" and aria-label)
```

**For Count Variant:**
```tsx
<Avatar variant="count" count="+5" aria-label="5 more users" />
// Screen reader announces: "5 more users"
```

### Best Practices for Accessibility

#### Do ✅

- Provide meaningful `alt` text describing the person/entity
- Use `alt=""` when avatar is decorative and name is in adjacent text
- Add `aria-label` to count variants to explain the count
- Ensure status information is also conveyed through text when critical
- Maintain sufficient color contrast for status indicators
- Wrap avatars in buttons/links only when they perform actions

#### Don't ❌

- Don't use generic alt text like "avatar" or "profile picture"
- Don't rely solely on status color to convey important information
- Don't make avatars interactive without proper button/link semantics
- Don't use count variant for actual user avatars (it's for overflow only)
- Don't forget alt text when image is informative

### ARIA Attributes

The component automatically handles:
- `role="status"` on status indicator
- `aria-label="Status: {status}"` on status indicator (announces current presence)

Additional ARIA attributes can be passed as props:

```tsx
<Avatar
  src="/user.jpg"
  alt="Jane Smith"
  aria-describedby="user-bio"
/>

<Avatar
  variant="count"
  count="+10"
  aria-label="10 additional team members"
/>
```

### Color Contrast

All avatar variants meet WCAG 2.1 AA contrast requirements:
- Status indicators: Minimum 3:1 contrast ratio against background
- Count variant text: Minimum 4.5:1 contrast ratio
- Border ring: Minimum 3:1 contrast ratio

Status indicator colors:
- **Online (green)**: High contrast, easily distinguishable
- **Offline (gray)**: Sufficient contrast while indicating inactive state
- **Away (yellow)**: Warning color with good visibility
- **Busy (red)**: Error color with strong contrast

Tested in both light and dark modes.

## Common Patterns

### User Profile Header

```tsx title="src/components/UserProfile.tsx"
import { Avatar } from '@grasdouble/lufa_design-system';

function UserProfile({ user }) {
  return (
    <div className="profile-header">
      <Avatar
        src={user.avatarUrl}
        alt={user.name}
        size="xl"
        status={user.onlineStatus}
      />
      <div>
        <h1>{user.name}</h1>
        <p>{user.title}</p>
      </div>
    </div>
  );
}
```

### Comment Author

```tsx title="src/components/Comment.tsx"
import { Avatar } from '@grasdouble/lufa_design-system';

function Comment({ author, content, timestamp }) {
  return (
    <div className="comment">
      <Avatar
        src={author.avatar}
        alt={author.name}
        size="sm"
      />
      <div>
        <div className="comment-header">
          <strong>{author.name}</strong>
          <time>{timestamp}</time>
        </div>
        <p>{content}</p>
      </div>
    </div>
  );
}
```

### Team Member List

```tsx title="src/components/TeamList.tsx"
import { Avatar } from '@grasdouble/lufa_design-system';

function TeamList({ members }) {
  return (
    <ul className="team-list">
      {members.map((member) => (
        <li key={member.id}>
          <Avatar
            src={member.avatar}
            alt={member.name}
            size="md"
            status={member.status}
          />
          <div>
            <strong>{member.name}</strong>
            <p>{member.role}</p>
          </div>
        </li>
      ))}
    </ul>
  );
}
```

### Avatar with Status

```tsx title="src/components/UserStatus.tsx"
import { Avatar } from '@grasdouble/lufa_design-system';

function UserStatus({ user }) {
  const statusText = {
    online: 'Online',
    offline: 'Offline',
    away: 'Away',
    busy: 'Do not disturb',
  };

  return (
    <div className="user-status">
      <Avatar
        src={user.avatar}
        alt={user.name}
        size="lg"
        status={user.status}
        statusPosition="bottom"
      />
      <div>
        <h3>{user.name}</h3>
        <p className="status-text">{statusText[user.status]}</p>
      </div>
    </div>
  );
}
```

### Avatar with Badge

```tsx title="src/components/NotificationAvatar.tsx"
import { Avatar } from '@grasdouble/lufa_design-system';

function NotificationAvatar({ user, notificationCount }) {
  return (
    <div className="notification-avatar">
      <div style={{ position: 'relative', display: 'inline-block' }}>
        <Avatar
          src={user.avatar}
          alt={user.name}
          size="md"
        />
        {notificationCount > 0 && (
          <span
            className="notification-badge"
            aria-label={`${notificationCount} unread notifications`}
          >
            {notificationCount}
          </span>
        )}
      </div>
    </div>
  );
}
```

## Examples of usage

<CommentHeaderExample />
<CountAvatarExample />

## Related Components

- **Avatar Group** - Display multiple avatars in an overlapping stack (coming soon)
- **Badge** - For notification counts or status badges on avatars
- **Card** - For containing user profile information with avatars
- **List** - For organizing multiple user entries with avatars
- **Menu** - For user profile menus triggered by avatar clicks

## TypeScript Support

The Avatar component is fully typed with TypeScript:

```tsx
import type { HTMLAttributes } from 'react';

export type AvatarProps = {
  src?: string;
  alt?: string;
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  variant?: 'circle' | 'square' | 'count';
  status?: 'online' | 'offline' | 'away' | 'busy' | 'none';
  statusPosition?: 'top' | 'bottom';
  count?: string | number;
} & Omit<HTMLAttributes<HTMLDivElement>, 'src'>;
```

This ensures type safety and autocomplete in your IDE.
