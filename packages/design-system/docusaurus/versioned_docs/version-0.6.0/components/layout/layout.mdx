---
sidebar_position: 6
---

import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_POSITION, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';

import {
  AppShellExample,
  ContentOnlyExample,
  Gap,
  LiveDemo,
  Sidebar,
  SidebarPosition,
  SidebarWidth,
} from '../../_examples/layout/layout';

# Layout

import { DarkModeCompatible } from '../../../src/components/DarkModeCompatible';

<DarkModeCompatible />

A page-level scaffold using CSS grid areas: Header / Sidebar / Content / Footer. Create consistent application shells with semantic landmarks and built-in accessibility features.

## Overview

Use `Layout` when you need…

- A consistent app shell scaffold (header/sidebar/content/footer)
- An optional sidebar via `sidebar`, `sidebarPosition`, `sidebarWidth`
- Spacing between areas via `gap`
- Compound components: `Layout.Header`, `Layout.Sidebar`, `Layout.Content`, `Layout.Footer`

## Live Demo

<LiveDemo />

## Import

```tsx
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_POSITION, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx
<Layout sidebar gap={LAYOUT_GAP.md}>
  <Layout.Header>...</Layout.Header>
  <Layout.Sidebar>...</Layout.Sidebar>
  <Layout.Content>...</Layout.Content>
  <Layout.Footer>...</Layout.Footer>
</Layout>
```

## Anatomy

The Layout component creates a page-level application shell with CSS grid areas:

**Without Sidebar:**
```
┌──────────────────────────────────────┐
│          HEADER                      │  ← Layout.Header (header element)
├──────────────────────────────────────┤
│                                      │
│          CONTENT                     │  ← Layout.Content (main element)
│                                      │
├──────────────────────────────────────┤
│          FOOTER                      │  ← Layout.Footer (footer element)
└──────────────────────────────────────┘
```

**With Sidebar (Left):**
```
┌──────────────────────────────────────┐
│          HEADER                      │  ← Layout.Header
├──────────┬───────────────────────────┤
│          │                           │
│ SIDEBAR  │        CONTENT            │  ← Layout.Sidebar + Layout.Content
│          │                           │
├──────────┴───────────────────────────┤
│          FOOTER                      │  ← Layout.Footer
└──────────────────────────────────────┘
    ↑                   ↑
    │                   └─ Gap spacing
    └───────────────────── Sidebar width (collapsed/default/wide)
```

**Component Structure:**
- **Layout** (Container): CSS grid wrapper with named areas
- **Layout.Header**: Top area, defaults to `<header>` element
- **Layout.Sidebar**: Optional side area, defaults to `<aside>` element
- **Layout.Content**: Main content area, defaults to `<main>` element
- **Layout.Footer**: Bottom area, defaults to `<footer>` element

**Grid Areas:**
- Header spans full width at top
- Sidebar (when enabled) sits beside content
- Content fills remaining space
- Footer spans full width at bottom

**Semantic HTML:**
Each compound component uses appropriate semantic elements by default:
- `Layout.Header` → `<header>` (customizable via `as` prop)
- `Layout.Sidebar` → `<aside>` (customizable to `<nav>` via `as` prop)
- `Layout.Content` → `<main>` (provides main landmark)
- `Layout.Footer` → `<footer>` (customizable via `as` prop)

## API Reference

### Layout Props

| Prop              | Type                                   | Default     | Description                                 |
| ----------------- | -------------------------------------- | ----------- | ------------------------------------------- |
| `sidebar`         | `boolean`                              | `false`     | Enables the sidebar area                    |
| `sidebarPosition` | `keyof typeof LAYOUT_SIDEBAR_POSITION` | `'left'`    | Sidebar placement (when sidebar is enabled) |
| `sidebarWidth`    | `keyof typeof LAYOUT_SIDEBAR_WIDTH`    | `'default'` | Sidebar width preset (when enabled)         |
| `gap`             | `keyof typeof LAYOUT_GAP`              | `'md'`      | Gap between layout areas                    |
| `children`        | `ReactNode`                            | -           | Layout compound components                  |
| `className`       | `string`                               | -           | Additional CSS class                        |

Also supports all standard HTML `div` element attributes.

### Layout.Header Props

| Prop       | Type                    | Default    | Description              |
| ---------- | ----------------------- | ---------- | ------------------------ |
| `as`       | `'header' \| 'div'`     | `'header'` | HTML element to render   |
| `children` | `ReactNode`             | -          | Header content           |

Also supports all standard HTML element attributes for the chosen `as` element.

### Layout.Sidebar Props

| Prop       | Type                          | Default   | Description              |
| ---------- | ----------------------------- | --------- | ------------------------ |
| `as`       | `'aside' \| 'div' \| 'nav'`   | `'aside'` | HTML element to render   |
| `children` | `ReactNode`                   | -         | Sidebar content          |

Also supports all standard HTML element attributes for the chosen `as` element.

### Layout.Content Props

| Prop       | Type                                      | Default  | Description              |
| ---------- | ----------------------------------------- | -------- | ------------------------ |
| `as`       | `'main' \| 'div' \| 'section' \| 'article'` | `'main'` | HTML element to render   |
| `children` | `ReactNode`                               | -        | Main content             |

Also supports all standard HTML element attributes for the chosen `as` element.

### Layout.Footer Props

| Prop       | Type                    | Default    | Description              |
| ---------- | ----------------------- | ---------- | ------------------------ |
| `as`       | `'footer' \| 'div'`     | `'footer'` | HTML element to render   |
| `children` | `ReactNode`             | -          | Footer content           |

Also supports all standard HTML element attributes for the chosen `as` element.

### Sidebar Position Details

- **left**: Sidebar on left side of content (default, common pattern)
- **right**: Sidebar on right side of content (alternative layout)

### Sidebar Width Details

- **collapsed**: Narrow sidebar (64px) - good for icon-only navigation
- **default**: Standard sidebar width (256px) - balanced for most apps
- **wide**: Wide sidebar (320px) - for detailed navigation or content

### Gap Details

- **none**: No spacing between areas (0px)
- **sm**: Small spacing (8px)
- **md**: Medium spacing (16px) - default, balanced spacing
- **lg**: Large spacing (24px)
- **xl**: Extra large spacing (32px)

## Variants

### sidebar

<Sidebar />

### sidebarPosition

<SidebarPosition />

### sidebarWidth

<SidebarWidth />

### gap

<Gap />

## Best Practices

### Do ✅

- Use `Layout` for page-level scaffolds (not small widgets)
- Keep `Layout.Header`/`Sidebar`/`Content`/`Footer` in a consistent order for readability
- Use the sidebar only for navigation or secondary context, not primary content

### Don't ❌

- Don’t nest multiple `Layout` components; prefer `Container` + other layout primitives inside `Layout.Content`
- Don’t rely on `gap="none"` unless the inner areas provide their own spacing

## Accessibility

The Layout component is designed with WCAG 2.1 AA compliance and semantic HTML in mind:

### Keyboard Navigation

Layout provides structural scaffolding but doesn't implement keyboard navigation directly. Navigation depends on interactive elements within each area.

**Best Practices:**
- Include a "Skip to main content" link at the beginning for keyboard users
- Ensure logical tab order: Header → Sidebar → Content → Footer
- Provide keyboard shortcuts for common navigation patterns (optional)
- Use focus management when navigating between areas programmatically

**Skip Link Pattern:**
```tsx
<Layout sidebar gap={LAYOUT_GAP.md}>
  <Layout.Header>
    <a href="#main-content" className="skip-link">
      Skip to main content
    </a>
    {/* header content */}
  </Layout.Header>
  <Layout.Sidebar>{/* sidebar */}</Layout.Sidebar>
  <Layout.Content id="main-content">{/* content */}</Layout.Content>
  <Layout.Footer>{/* footer */}</Layout.Footer>
</Layout>
```

### Screen Reader Support

Layout uses semantic HTML landmarks by default for optimal screen reader navigation:

**Default Semantic Structure:**
```tsx
<Layout sidebar>
  <Layout.Header>{/* renders as <header> */}</Layout.Header>
  <Layout.Sidebar>{/* renders as <aside> */}</Layout.Sidebar>
  <Layout.Content>{/* renders as <main> */}</Layout.Content>
  <Layout.Footer>{/* renders as <footer> */}</Layout.Footer>
</Layout>
// Screen reader announces landmarks:
// - "Banner" (header)
// - "Complementary" (aside)
// - "Main" (main)
// - "Contentinfo" (footer)
```

**Navigation Sidebar:**
```tsx
<Layout sidebar>
  <Layout.Header>{/* header */}</Layout.Header>
  <Layout.Sidebar as="nav" aria-label="Main navigation">
    {/* navigation links */}
  </Layout.Sidebar>
  <Layout.Content>{/* content */}</Layout.Content>
  <Layout.Footer>{/* footer */}</Layout.Footer>
</Layout>
// Sidebar announces: "Main navigation, navigation"
```

**Custom Labels:**
```tsx
<Layout sidebar>
  <Layout.Header aria-label="Site header">
    {/* header content */}
  </Layout.Header>
  <Layout.Sidebar aria-label="Table of contents">
    {/* TOC content */}
  </Layout.Sidebar>
  <Layout.Content aria-label="Article content">
    {/* main content */}
  </Layout.Content>
  <Layout.Footer aria-label="Site footer">
    {/* footer content */}
  </Layout.Footer>
</Layout>
```

### Best Practices for Accessibility

#### Do ✅

- Use default semantic elements (header, aside, main, footer)
- Provide descriptive ARIA labels when multiple landmarks of same type exist
- Include skip navigation links for keyboard users
- Maintain single `<main>` landmark per page
- Use `as="nav"` for navigation sidebars with `aria-label`
- Ensure focus indicators are visible in all areas
- Test landmark navigation with screen readers
- Provide heading hierarchy within each area (h1 in main, h2-h6 in others)

#### Don't ❌

- Don't nest multiple Layout components (creates duplicate landmarks)
- Don't use multiple `<main>` elements on a single page
- Don't remove semantic elements without good reason
- Don't forget skip links for keyboard accessibility
- Don't hide important navigation in collapsed sidebars without accessible toggle
- Don't rely solely on visual spacing to indicate area boundaries
- Don't use Layout for non-page-level layouts (use Flex/Grid instead)

### ARIA Attributes

The Layout component and its sub-components accept ARIA attributes:

**Labeling Landmarks:**
```tsx
<Layout sidebar>
  <Layout.Header aria-label="Global header">
    {/* header */}
  </Layout.Header>
  <Layout.Sidebar as="nav" aria-label="Site navigation">
    {/* nav */}
  </Layout.Sidebar>
  <Layout.Content aria-labelledby="page-title">
    <h1 id="page-title">Page Title</h1>
    {/* content */}
  </Layout.Content>
  <Layout.Footer aria-label="Site footer">
    {/* footer */}
  </Layout.Footer>
</Layout>
```

**Multiple Navs:**
```tsx
<Layout sidebar>
  <Layout.Header>
    <nav aria-label="Primary navigation">{/* main nav */}</nav>
  </Layout.Header>
  <Layout.Sidebar as="nav" aria-label="Section navigation">
    {/* section nav */}
  </Layout.Sidebar>
  <Layout.Content>{/* content */}</Layout.Content>
  <Layout.Footer>
    <nav aria-label="Footer navigation">{/* footer nav */}</nav>
  </Layout.Footer>
</Layout>
```

### Color Contrast

Layout is a transparent structural component. Color contrast requirements apply to its contents:
- Text content: Minimum 4.5:1 contrast ratio (WCAG AA)
- Interactive elements: Minimum 3:1 contrast for UI components
- Focus indicators: Minimum 3:1 contrast against background
- Header/Footer backgrounds: Ensure text contrast meets requirements

## Common Patterns

### App Layout (Dashboard)

```tsx title="src/components/AppLayout.tsx"
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';

function AppLayout({ children }: { children: ReactNode }) {
  return (
    <Layout sidebar sidebarWidth={LAYOUT_SIDEBAR_WIDTH.default} gap={LAYOUT_GAP.md}>
      <Layout.Header>
        <div className="flex items-center justify-between px-6 py-4">
          <Logo />
          <div className="flex items-center gap-4">
            <NotificationBell />
            <UserMenu />
          </div>
        </div>
      </Layout.Header>

      <Layout.Sidebar as="nav" aria-label="Main navigation">
        <NavMenu items={[
          { label: 'Dashboard', href: '/dashboard', icon: <DashboardIcon /> },
          { label: 'Users', href: '/users', icon: <UsersIcon /> },
          { label: 'Settings', href: '/settings', icon: <SettingsIcon /> },
        ]} />
      </Layout.Sidebar>

      <Layout.Content id="main-content">
        {children}
      </Layout.Content>

      <Layout.Footer>
        <div className="px-6 py-4 text-sm text-gray-600">
          © 2024 Your Company. All rights reserved.
        </div>
      </Layout.Footer>
    </Layout>
  );
}
```

### Dashboard Layout (Wide Sidebar)

```tsx title="src/components/DashboardLayout.tsx"
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';

function DashboardLayout() {
  return (
    <Layout sidebar sidebarWidth={LAYOUT_SIDEBAR_WIDTH.wide} gap={LAYOUT_GAP.lg}>
      <Layout.Header aria-label="Dashboard header">
        <Flex align="center" justify="between" gap="md" className="px-6 py-4">
          <h1>Analytics Dashboard</h1>
          <DateRangePicker />
        </Flex>
      </Layout.Header>

      <Layout.Sidebar aria-label="Dashboard filters">
        <div className="p-4">
          <h2>Filters</h2>
          <FilterPanel />
        </div>
      </Layout.Sidebar>

      <Layout.Content id="main-content">
        <Grid columns={GRID_COLUMNS.double} gutter={GRID_GUTTER.lg}>
          <MetricCard title="Total Revenue" value="$125,340" />
          <MetricCard title="Active Users" value="1,234" />
          <ChartCard title="Revenue Over Time" />
          <ChartCard title="User Growth" />
        </Grid>
      </Layout.Content>

      <Layout.Footer>
        <div className="px-6 py-3 text-xs">
          Last updated: {new Date().toLocaleString()}
        </div>
      </Layout.Footer>
    </Layout>
  );
}
```

### Docs Layout (Right Sidebar)

```tsx title="src/components/DocsLayout.tsx"
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_POSITION, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';

function DocsLayout({ content, tableOfContents }: DocsLayoutProps) {
  return (
    <Layout
      sidebar
      sidebarPosition={LAYOUT_SIDEBAR_POSITION.right}
      sidebarWidth={LAYOUT_SIDEBAR_WIDTH.default}
      gap={LAYOUT_GAP.lg}
    >
      <Layout.Header>
        <nav aria-label="Documentation navigation" className="px-6 py-4">
          <Flex align="center" justify="between">
            <Logo />
            <Flex gap="md">
              <Link href="/docs">Docs</Link>
              <Link href="/api">API</Link>
              <Link href="/examples">Examples</Link>
            </Flex>
            <SearchBar />
          </Flex>
        </nav>
      </Layout.Header>

      <Layout.Content id="main-content" className="px-8 py-6">
        <article>
          {content}
        </article>
      </Layout.Content>

      <Layout.Sidebar aria-label="Table of contents">
        <div className="sticky top-4 p-4">
          <h2 className="text-sm font-semibold mb-2">On this page</h2>
          <TableOfContents items={tableOfContents} />
        </div>
      </Layout.Sidebar>

      <Layout.Footer>
        <div className="px-8 py-4">
          <Flex justify="between">
            <span>© 2024 Documentation</span>
            <Flex gap="md">
              <Link href="/privacy">Privacy</Link>
              <Link href="/terms">Terms</Link>
            </Flex>
          </Flex>
        </div>
      </Layout.Footer>
    </Layout>
  );
}
```

### Two-Column Layout (No Header/Footer)

```tsx title="src/components/TwoColumnLayout.tsx"
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';

function TwoColumnLayout({ sidebar, content }: TwoColumnLayoutProps) {
  return (
    <Layout sidebar sidebarWidth={LAYOUT_SIDEBAR_WIDTH.default} gap={LAYOUT_GAP.md}>
      <Layout.Sidebar as="nav" aria-label="Section navigation">
        {sidebar}
      </Layout.Sidebar>

      <Layout.Content id="main-content">
        {content}
      </Layout.Content>
    </Layout>
  );
}
```

### Sidebar Layout (Collapsed Sidebar with Toggle)

```tsx title="src/components/CollapsibleLayout.tsx"
import { Layout, LAYOUT_GAP, LAYOUT_SIDEBAR_WIDTH } from '@grasdouble/lufa_design-system';
import { useState } from 'react';

function CollapsibleLayout({ children }: { children: ReactNode }) {
  const [collapsed, setCollapsed] = useState(false);

  return (
    <Layout
      sidebar
      sidebarWidth={collapsed ? LAYOUT_SIDEBAR_WIDTH.collapsed : LAYOUT_SIDEBAR_WIDTH.default}
      gap={LAYOUT_GAP.sm}
    >
      <Layout.Header>
        <Flex align="center" gap="md" className="px-4 py-3">
          <button
            onClick={() => setCollapsed(!collapsed)}
            aria-label={collapsed ? 'Expand sidebar' : 'Collapse sidebar'}
            aria-expanded={!collapsed}
          >
            <MenuIcon />
          </button>
          <Logo />
        </Flex>
      </Layout.Header>

      <Layout.Sidebar as="nav" aria-label="Main navigation">
        <NavMenu collapsed={collapsed} />
      </Layout.Sidebar>

      <Layout.Content id="main-content">
        {children}
      </Layout.Content>

      <Layout.Footer>
        <div className="px-4 py-3">
          {!collapsed && <FooterContent />}
        </div>
      </Layout.Footer>
    </Layout>
  );
}
```

## Examples of usage

<AppShellExample />
<ContentOnlyExample />

## Related Components

- **Flex** - For one-dimensional layouts within layout areas
- **Grid** - For two-dimensional layouts within layout areas
- **Container** - For max-width content containers within Layout.Content
- **Stack** - For simple vertical or horizontal stacking
- **Breadcrumb** - For showing navigation hierarchy in header
- **Menu** - For navigation menus in sidebar

## TypeScript Support

The Layout component is fully typed with TypeScript:

```tsx
import type { ReactNode, HTMLAttributes } from 'react';

export type LayoutProps = {
  /** Enables the sidebar column and area */
  sidebar?: boolean;
  /** Sidebar placement (when sidebar is enabled) */
  sidebarPosition?: keyof typeof LAYOUT_SIDEBAR_POSITION;
  /** Sidebar width (when sidebar is enabled) */
  sidebarWidth?: keyof typeof LAYOUT_SIDEBAR_WIDTH;
  /** Gap between areas */
  gap?: keyof typeof LAYOUT_GAP;
} & HTMLAttributes<HTMLDivElement>;

export type LayoutHeaderProps = {
  as?: 'header' | 'div';
  children?: ReactNode;
} & HTMLAttributes<HTMLElement>;

export type LayoutSidebarProps = {
  as?: 'aside' | 'div' | 'nav';
  children?: ReactNode;
} & HTMLAttributes<HTMLElement>;

export type LayoutContentProps = {
  as?: 'main' | 'div' | 'section' | 'article';
  children?: ReactNode;
} & HTMLAttributes<HTMLElement>;

export type LayoutFooterProps = {
  as?: 'footer' | 'div';
  children?: ReactNode;
} & HTMLAttributes<HTMLElement>;

// Constants
export const LAYOUT_SIDEBAR_POSITION = {
  left: 'left',
  right: 'right',
} as const;

export const LAYOUT_SIDEBAR_WIDTH = {
  collapsed: 'collapsed',
  default: 'default',
  wide: 'wide',
} as const;

export const LAYOUT_GAP = {
  none: 'none',
  sm: 'sm',
  md: 'md',
  lg: 'lg',
  xl: 'xl',
} as const;
```

This ensures type safety and autocomplete in your IDE.
