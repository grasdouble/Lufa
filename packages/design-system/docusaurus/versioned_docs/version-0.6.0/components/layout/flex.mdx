---
sidebar_position: 10
---

import { Flex, FLEX_ALIGN, FLEX_DIRECTION, FLEX_JUSTIFY, FLEX_WRAP, SPACE_SIZE } from '@grasdouble/lufa_design-system';

import {
  Align,
  As,
  Direction,
  Gap,
  Inline,
  Justify,
  LiveDemo,
  ResponsiveCardRowExample,
  ToolbarExample,
  Wrap,
} from '@site/src/dsExamples/layout/flex';

# Flex

import { DarkModeCompatible } from '@site/src/components/DarkModeCompatible';

<DarkModeCompatible />

Generic flex container with alignment, wrapping, and token-friendly gaps. A flexible one-dimensional layout primitive for arranging content horizontally or vertically with precise control over alignment, distribution, and spacing.

## Overview

Use `Flex` when you need…

- A simple declarative flex layout without custom CSS
- Direction via `direction` (row/column)
- Alignment via `align` / `justify`
- Wrapping via `wrap`
- Token-backed spacing via `gap`
- Inline layout via `inline`

## Live Demo

<LiveDemo />

## Import

```tsx
import { Flex, FLEX_ALIGN, FLEX_DIRECTION, FLEX_JUSTIFY, FLEX_WRAP, SPACE_SIZE } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx
<Flex
  direction={FLEX_DIRECTION.row}
  align={FLEX_ALIGN.center}
  justify={FLEX_JUSTIFY.between}
  wrap={FLEX_WRAP.wrap}
  gap={SPACE_SIZE.md}
>
  <div />
  <div />
  <div />
</Flex>
```

## Anatomy

The Flex component is a flexible one-dimensional layout container:

```
┌─────────────────────────────────────────────────────┐
│  ┌────────┐    ┌────────┐    ┌────────┐             │
│  │ Item 1 │    │ Item 2 │    │ Item 3 │             │  ← Main Axis (row)
│  └────────┘    └────────┘    └────────┘             │
└─────────────────────────────────────────────────────┘
      ↑             ↑             ↑
      │             │             └─ Gap spacing
      │             └─────────────── Justify (main axis)
      └─────────────────────────── Align (cross axis)
```

**Component Structure:**

- **Container**: The outermost flex element (customizable via `as` prop)
- **Items**: Direct children arranged along main axis
- **Gap**: Token-based spacing between items
- **Main Axis**: Direction of item flow (row or column)
- **Cross Axis**: Perpendicular to main axis

**Layout Properties:**

- **direction**: Controls main axis orientation (row/column)
- **align**: Controls cross-axis alignment (start/center/end/stretch/baseline)
- **justify**: Controls main-axis distribution (start/center/end/between/around/evenly)
- **wrap**: Controls wrapping behavior (nowrap/wrap/wrap-reverse)
- **gap**: Spacing between items (token or custom value)

**Element Modes:**

- **Block**: Default `display: flex` (full width)
- **Inline**: Optional `display: inline-flex` (shrink-wrapped)

## API Reference

### Props

| Prop        | Type                                                                                   | Default     | Description                          |
| ----------- | -------------------------------------------------------------------------------------- | ----------- | ------------------------------------ |
| `as`        | `'div' \| 'span' \| 'section' \| 'nav' \| 'header' \| 'footer' \| 'main' \| 'article'` | `'div'`     | HTML element to render               |
| `inline`    | `boolean`                                                                              | `false`     | Uses `inline-flex` instead of `flex` |
| `direction` | `keyof typeof FLEX_DIRECTION`                                                          | `'row'`     | Flex direction (main axis)           |
| `align`     | `keyof typeof FLEX_ALIGN`                                                              | `'stretch'` | Cross-axis alignment                 |
| `justify`   | `keyof typeof FLEX_JUSTIFY`                                                            | `'start'`   | Main-axis distribution               |
| `wrap`      | `keyof typeof FLEX_WRAP`                                                               | `'nowrap'`  | Wrapping behavior                    |
| `gap`       | `keyof typeof SPACE_SIZE \| number \| string`                                          | `'md'`      | Gap between items                    |
| `children`  | `ReactNode`                                                                            | -           | Content to layout                    |
| `className` | `string`                                                                               | -           | Additional CSS class                 |

Also supports all standard HTML element attributes for the chosen `as` element.

### Direction Details

- **row**: Horizontal layout, items flow left-to-right (default)
- **column**: Vertical layout, items flow top-to-bottom

### Align Details (Cross Axis)

- **start**: Items align to cross-axis start
- **center**: Items centered on cross axis
- **end**: Items align to cross-axis end
- **stretch**: Items stretch to fill container height/width (default)
- **baseline**: Items align to text baseline

### Justify Details (Main Axis)

- **start**: Items packed at start (default)
- **center**: Items centered in container
- **end**: Items packed at end
- **between**: Items distributed with space between
- **around**: Items distributed with space around
- **evenly**: Items distributed with equal space

### Wrap Details

- **nowrap**: Single line, no wrapping (default)
- **wrap**: Multi-line, wraps to new lines
- **wrap-reverse**: Multi-line, wraps in reverse order

### Gap Details

Gap accepts token keys from `SPACE_SIZE` ('xs', 'sm', 'md', 'lg', 'xl'), pixel numbers (16), or CSS length strings ('1rem').

## Variants

### direction

<Direction />

### align

<Align />

### justify

<Justify />

### wrap

<Wrap />

### gap

<Gap />

### inline

<Inline />

### as

<As />

## Best Practices

### Do ✅

- Use `Flex` for small, localized layouts (toolbars, rows, small grids)
- Use `gap` instead of manual margins between children
- Prefer wrapping (`wrap="wrap"`) for responsive rows of chips/cards

### Don't ❌

- Don’t use `Flex` for complex page layouts; prefer dedicated layout components (e.g. `Container`, grids)
- Don’t rely on `Flex` to fix sizing issues; set widths/min-widths intentionally

## Accessibility

The Flex component is a layout primitive designed with WCAG 2.1 AA compliance in mind:

### Keyboard Navigation

Flex is a layout-only component and does not implement keyboard navigation directly. Keyboard interaction depends on the interactive elements within the flex container.

**Best Practices:**

- Ensure interactive children (buttons, links) have visible focus indicators
- Maintain logical tab order by placing items in source order
- Avoid using visual-only reordering that conflicts with tab order

### Screen Reader Support

Flex uses semantic HTML when appropriate:

**Using Semantic Elements:**

```tsx
<Flex as="nav" gap="md">
  <Link href="/home">Home</Link>
  <Link href="/about">About</Link>
  <Link href="/contact">Contact</Link>
</Flex>
// Announces: "Navigation" followed by link content
```

**Default Layout (Non-semantic):**

```tsx
<Flex gap="md">
  <div>Item 1</div>
  <div>Item 2</div>
</Flex>
// No special announcement, reads items in order
```

**Using ARIA Labels for Context:**

```tsx
<Flex as="section" aria-label="Product features">
  <FeatureCard />
  <FeatureCard />
  <FeatureCard />
</Flex>
// Announces: "Product features, region" followed by card content
```

### Best Practices for Accessibility

#### Do ✅

- Use semantic elements via `as` prop when container has meaning (nav, header, footer, main)
- Keep items in logical source order (left-to-right, top-to-bottom)
- Ensure interactive children have sufficient color contrast
- Provide ARIA labels when layout groups related content semantically
- Test keyboard navigation through flex items
- Maintain minimum 44×44px touch target sizes for mobile

#### Don't ❌

- Don't use Flex purely for visual ordering without considering tab order
- Don't remove focus indicators from interactive children
- Don't create overly complex nesting that confuses screen readers
- Don't use `column-reverse` or `wrap-reverse` without accessibility consideration
- Don't rely solely on visual spacing to convey relationships

### ARIA Attributes

The Flex component itself doesn't apply ARIA attributes by default. When needed, pass them as props:

```tsx
<Flex as="nav" aria-label="Main navigation" role="navigation">
  {/* navigation items */}
</Flex>

<Flex as="section" aria-labelledby="section-title">
  <h2 id="section-title">Features</h2>
  {/* feature items */}
</Flex>
```

### Color Contrast

Flex is a transparent layout component. Color contrast requirements apply to its children:

- Text content: Minimum 4.5:1 contrast ratio (WCAG AA)
- Interactive elements: Minimum 3:1 contrast for UI components
- Focus indicators: Minimum 3:1 contrast against background

## Common Patterns

### Navbar Layout

```tsx title="src/components/Navbar.tsx"
import { Flex, FLEX_ALIGN, FLEX_JUSTIFY } from '@grasdouble/lufa_design-system';

function Navbar() {
  return (
    <Flex as="nav" align={FLEX_ALIGN.center} justify={FLEX_JUSTIFY.between} gap="md" aria-label="Main navigation">
      <div className="logo">
        <Logo />
      </div>
      <Flex as="ul" align={FLEX_ALIGN.center} gap="lg">
        <li>
          <Link href="/home">Home</Link>
        </li>
        <li>
          <Link href="/about">About</Link>
        </li>
        <li>
          <Link href="/contact">Contact</Link>
        </li>
      </Flex>
      <div className="actions">
        <Button>Sign In</Button>
      </div>
    </Flex>
  );
}
```

### Split Pane Layout

```tsx title="src/components/SplitPane.tsx"
import { Flex, FLEX_ALIGN, FLEX_DIRECTION } from '@grasdouble/lufa_design-system';

function SplitPane() {
  return (
    <Flex direction={FLEX_DIRECTION.row} gap="xl" style={{ height: '100vh' }}>
      <div style={{ flex: 1, overflowY: 'auto' }}>
        <Sidebar />
      </div>
      <div style={{ flex: 2, overflowY: 'auto' }}>
        <MainContent />
      </div>
    </Flex>
  );
}
```

### Aligned Content (Icon + Text)

```tsx title="src/components/IconLabel.tsx"
import { Flex, FLEX_ALIGN } from '@grasdouble/lufa_design-system';

function IconLabel({ icon, text }: { icon: ReactNode; text: string }) {
  return (
    <Flex align={FLEX_ALIGN.center} gap="sm" inline>
      {icon}
      <span>{text}</span>
    </Flex>
  );
}

// Usage
<IconLabel icon={<CheckIcon />} text="Verified" />;
```

### Space-Between Layout

```tsx title="src/components/CardHeader.tsx"
import { Flex, FLEX_ALIGN, FLEX_JUSTIFY } from '@grasdouble/lufa_design-system';

function CardHeader() {
  return (
    <Flex as="header" align={FLEX_ALIGN.center} justify={FLEX_JUSTIFY.between} gap="md">
      <h2>Card Title</h2>
      <Button variant="ghost" size="small">
        <MoreIcon />
      </Button>
    </Flex>
  );
}
```

### Centered Content

```tsx title="src/components/EmptyState.tsx"
import { Flex, FLEX_ALIGN, FLEX_DIRECTION, FLEX_JUSTIFY } from '@grasdouble/lufa_design-system';

function EmptyState() {
  return (
    <Flex
      direction={FLEX_DIRECTION.column}
      align={FLEX_ALIGN.center}
      justify={FLEX_JUSTIFY.center}
      gap="lg"
      style={{ minHeight: '400px' }}
    >
      <EmptyIcon />
      <h3>No items found</h3>
      <p>Try adjusting your filters</p>
      <Button>Clear Filters</Button>
    </Flex>
  );
}
```

## Examples of usage

<ToolbarExample />
<ResponsiveCardRowExample />

## Related Components

- **Grid** - For two-dimensional layouts with rows and columns
- **Stack** - For simple vertical or horizontal stacking with consistent spacing
- **Layout** - For page-level scaffolding with header/sidebar/content/footer
- **Container** - For max-width content containers with responsive padding
- **Space** - For adding consistent spacing between elements

## TypeScript Support

The Flex component is fully typed with TypeScript:

```tsx
import type { HTMLAttributes, ReactNode } from 'react';

type FlexElement = 'div' | 'span' | 'section' | 'nav' | 'header' | 'footer' | 'main' | 'article';

export type FlexGap = keyof typeof SPACE_SIZE | number;

export type FlexProps = {
  /** The HTML element to render */
  as?: FlexElement;
  /** Use `inline-flex` instead of `flex` */
  inline?: boolean;
  direction?: keyof typeof FLEX_DIRECTION;
  align?: keyof typeof FLEX_ALIGN;
  justify?: keyof typeof FLEX_JUSTIFY;
  wrap?: keyof typeof FLEX_WRAP;
  /** Gap between items (token key, px number, or CSS length string) */
  gap?: FlexGap;
  children?: ReactNode;
} & HTMLAttributes<HTMLElement>;

// Constants
export const FLEX_DIRECTION = {
  row: 'row',
  column: 'column',
} as const;

export const FLEX_ALIGN = {
  start: 'start',
  center: 'center',
  end: 'end',
  stretch: 'stretch',
  baseline: 'baseline',
} as const;

export const FLEX_JUSTIFY = {
  start: 'start',
  center: 'center',
  end: 'end',
  between: 'between',
  around: 'around',
  evenly: 'evenly',
} as const;

export const FLEX_WRAP = {
  nowrap: 'nowrap',
  wrap: 'wrap',
  'wrap-reverse': 'wrap-reverse',
} as const;
```

This ensures type safety and autocomplete in your IDE.
