---
sidebar_position: 2
---

import { Input } from '@grasdouble/lufa_design-system';

import {
  BasicExample,
  ErrorExample,
  HelperTextExample,
  LiveDemo,
  SizeExample,
  VariantExample,
  FullWidthExample,
  AdornmentExample,
  DisabledExample,
  TypesExample,
} from '../../../src/dsExamples/forms/input';
import { DarkModeCompatible } from '../../../src/components/DarkModeCompatible';

# Input

<DarkModeCompatible />

A flexible text input component for collecting user data. Supports multiple variants, sizes, validation states, and decorative adornments.

## Overview

Use `Input` when you need…

- Text input fields (text, email, password, number, etc.)
- Labels and helper text for context
- Error validation and feedback
- Start/end adornments (icons, buttons, text)
- Different visual styles via `variant`
- Sizing via `size` and layout via `fullWidth`

## Live Demo

<LiveDemo />

## Import

```tsx
import { Input } from '@grasdouble/lufa_design-system';
```

## Basic Usage

```tsx title="src/App.tsx"
import { Input } from '@grasdouble/lufa_design-system';

function App() {
  return (
    <>
      <Input label="Email" type="email" placeholder="Enter your email" />
      <Input label="Password" type="password" placeholder="Enter your password" />
    </>
  );
}
```

## Anatomy

The Input component consists of several key parts:

```
┌─────────────────────────────────────────────────┐
│  Label (optional)                          *    │  ← Label with required indicator
├─────────────────────────────────────────────────┤
│  [start]  Text input field...    [end]          │  ← Input container
├─────────────────────────────────────────────────┤
│  Helper text or error message (optional)        │  ← Helper/Error text
└─────────────────────────────────────────────────┘
     ↑           ↑                    ↑
     │           │                    └─ Optional end adornment
     │           └────────────────────── Input field
     └────────────────────────────────── Optional start adornment
```

**Component Structure:**
- **Container**: Wraps all input elements with proper spacing
- **Label** (optional): Descriptive text above the input field, with required indicator (*)
- **Input Wrapper**: Contains the input field and adornments
- **Start Adornment** (optional): Leading icon or element positioned before the input
- **Input Field**: The main text input element
- **End Adornment** (optional): Trailing icon or element positioned after the input
- **Helper/Error Text** (optional): Contextual message below the input

**Visual States:**
- Default: Normal interactive state
- Hover: Visual feedback on mouse over
- Focus: Keyboard navigation indicator (focus ring)
- Filled: Input contains text
- Error: Red border and error message when validation fails
- Disabled: Reduced opacity, no interaction

## API Reference

### Props

| Prop              | Type                           | Default      | Description                                   |
| ----------------- | ------------------------------ | ------------ | --------------------------------------------- |
| `label`           | `string`                       | -            | Label text displayed above input              |
| `error`           | `string`                       | -            | Error message (displays in red)               |
| `helperText`      | `string`                       | -            | Helper text displayed below input             |
| `size`            | `'small' \| 'medium' \| 'large'` | `'medium'` | Input field size                              |
| `variant`         | `'outlined' \| 'filled'`       | `'outlined'` | Visual style variant                          |
| `fullWidth`       | `boolean`                      | `false`      | Expands input to full container width         |
| `startAdornment`  | `ReactNode`                    | -            | Icon or element displayed before input        |
| `endAdornment`    | `ReactNode`                    | -            | Icon or element displayed after input         |
| `type`            | `string`                       | `'text'`     | HTML input type (text, email, password, etc.) |
| `placeholder`     | `string`                       | -            | Placeholder text                              |
| `disabled`        | `boolean`                      | `false`      | Disables input interaction                    |
| `required`        | `boolean`                      | `false`      | Marks field as required (shows * indicator)   |

Also supports all standard HTML `input` attributes (e.g., `className`, `id`, `aria-*`, `data-*`, `name`, `value`, `onChange`).

### Variant Details

- **outlined**: Border with transparent background (default, clear visual boundaries)
- **filled**: Subtle filled background (softer appearance, good for dense forms)

### Size Details

- **small**: Compact size for dense interfaces (32px height)
- **medium**: Default size for most use cases (40px height)
- **large**: Prominent size for hero sections (48px height)

### Type Details

The `type` prop accepts all standard HTML input types:

- **text**: Standard text input (default)
- **email**: Email address input with validation
- **password**: Password input (hidden characters)
- **number**: Numeric input with increment/decrement controls
- **tel**: Telephone number input
- **url**: URL input with validation
- **search**: Search input with search styling
- **date**, **time**, **datetime-local**: Date/time pickers
- And more: see [MDN Input Types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#input_types)

## Variants

### size

<SizeExample />

### variant

<VariantExample />

### error

<ErrorExample />

### helperText

<HelperTextExample />

### fullWidth

<FullWidthExample />

### startAdornment / endAdornment

<AdornmentExample />

### disabled

<DisabledExample />

### type

<TypesExample />

## Best Practices

### Do ✅

- Always provide a `label` for accessibility and context
- Use `helperText` to provide guidance or formatting requirements
- Use `error` prop for validation feedback
- Mark required fields with `required` prop (shows * indicator)
- Use appropriate `type` for different data (email, password, number)
- Use `startAdornment` for icons that clarify the input purpose
- Use `endAdornment` for actions like clear, visibility toggle, or submit

### Don't ❌

- Don't use placeholder text as a replacement for labels
- Don't disable inputs without explanation (use helper text)
- Don't use vague error messages ("Invalid input" → "Email must include @")
- Don't use color alone to indicate errors (component includes text)

## Accessibility

The Input component is designed with WCAG 2.1 AA compliance in mind:

### Keyboard Navigation

- **Tab**: Navigate to input field
- **Shift + Tab**: Navigate to previous input
- **Arrow Keys**: Move cursor within text (or adjust number inputs)
- **Home/End**: Move cursor to start/end of text
- **Ctrl/Cmd + A**: Select all text

All inputs are keyboard accessible by default with visible focus indicators.

### Screen Reader Support

**For Standard Inputs:**
```tsx
<Input label="Email" type="email" />
// Screen reader announces: "Email, edit text"
```

**For Required Fields:**
```tsx
<Input label="Password" type="password" required />
// Screen reader announces: "Password, required, edit text"
```

**For Inputs with Helper Text:**
```tsx
<Input
  label="Username"
  helperText="Must be 3-20 characters"
  aria-describedby="username-helper"
/>
// Screen reader announces: "Username, edit text, Must be 3-20 characters"
```

**For Inputs with Errors:**
```tsx
<Input
  label="Email"
  error="Please enter a valid email address"
  type="email"
/>
// Screen reader announces: "Email, invalid data, Please enter a valid email address"
```

### Best Practices for Accessibility

#### Do ✅

- Always provide visible labels (not just placeholders)
- Use `required` prop for required fields
- Provide clear error messages with `error` prop
- Use appropriate `type` for semantic meaning
- Ensure sufficient color contrast (all variants meet WCAG AA)
- Associate helper text with `aria-describedby`
- Keep focus indicators visible (default focus ring)

#### Don't ❌

- Don't use placeholder as the only label (disappears on input)
- Don't remove focus outlines (breaks keyboard navigation)
- Don't use only color to convey errors (component includes text)
- Don't use vague labels ("Input" → "Email address")
- Don't disable without explanation

### ARIA Attributes

The component automatically handles:
- `aria-invalid="true"` when `error` is present
- `aria-required="true"` when `required` prop is set
- `aria-disabled="true"` when `disabled`

Additional ARIA attributes can be passed as props:

```tsx
<Input
  label="Username"
  aria-describedby="username-helper username-error"
  aria-label="User account name"
/>
```

### Color Contrast

All input variants meet WCAG 2.1 AA contrast requirements:
- Text: Minimum 4.5:1 contrast ratio
- Border/outline: Minimum 3:1 contrast ratio
- Error state: Minimum 4.5:1 contrast ratio
- Placeholder text: Minimum 4.5:1 contrast ratio

Tested in both light and dark modes.

## Common Patterns

### Login Form

```tsx title="src/components/LoginForm.tsx"
import { Input, Button, Stack } from '@grasdouble/lufa_design-system';
import { useState } from 'react';

function LoginForm() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [errors, setErrors] = useState<{ email?: string; password?: string }>({});

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    // Validate and submit
  };

  return (
    <form onSubmit={handleSubmit}>
      <Stack direction="column" spacing="medium">
        <Input
          label="Email"
          type="email"
          value={email}
          onChange={(e) => setEmail(e.target.value)}
          error={errors.email}
          required
          fullWidth
        />
        <Input
          label="Password"
          type="password"
          value={password}
          onChange={(e) => setPassword(e.target.value)}
          error={errors.password}
          required
          fullWidth
        />
        <Button type="submit" fullWidth>
          Sign In
        </Button>
      </Stack>
    </form>
  );
}
```

### Search Input

```tsx title="src/components/SearchBar.tsx"
import { Input } from '@grasdouble/lufa_design-system';
import { SearchIcon } from './icons';

function SearchBar() {
  return (
    <Input
      placeholder="Search products..."
      type="search"
      startAdornment={<SearchIcon />}
      fullWidth
    />
  );
}
```

### Password with Visibility Toggle

```tsx title="src/components/PasswordInput.tsx"
import { Input } from '@grasdouble/lufa_design-system';
import { useState } from 'react';
import { EyeIcon, EyeOffIcon } from './icons';

function PasswordInput({ value, onChange, ...props }) {
  const [showPassword, setShowPassword] = useState(false);

  return (
    <Input
      type={showPassword ? 'text' : 'password'}
      value={value}
      onChange={onChange}
      endAdornment={
        <button
          type="button"
          onClick={() => setShowPassword(!showPassword)}
          aria-label={showPassword ? 'Hide password' : 'Show password'}
        >
          {showPassword ? <EyeOffIcon /> : <EyeIcon />}
        </button>
      }
      {...props}
    />
  );
}
```

### Input with Character Counter

```tsx title="src/components/BioInput.tsx"
import { Input } from '@grasdouble/lufa_design-system';
import { useState } from 'react';

function BioInput() {
  const [bio, setBio] = useState('');
  const maxLength = 200;

  return (
    <Input
      label="Bio"
      value={bio}
      onChange={(e) => setBio(e.target.value)}
      helperText={`${bio.length}/${maxLength} characters`}
      maxLength={maxLength}
      fullWidth
    />
  );
}
```

### Validated Email Input

```tsx title="src/components/EmailInput.tsx"
import { Input } from '@grasdouble/lufa_design-system';
import { useState } from 'react';

function EmailInput() {
  const [email, setEmail] = useState('');
  const [error, setError] = useState('');

  const validateEmail = (value: string) => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!value) {
      setError('Email is required');
    } else if (!emailRegex.test(value)) {
      setError('Please enter a valid email address');
    } else {
      setError('');
    }
  };

  return (
    <Input
      label="Email"
      type="email"
      value={email}
      onChange={(e) => {
        setEmail(e.target.value);
        validateEmail(e.target.value);
      }}
      onBlur={(e) => validateEmail(e.target.value)}
      error={error}
      required
      fullWidth
    />
  );
}
```

### Number Input with Prefix

```tsx title="src/components/PriceInput.tsx"
import { Input } from '@grasdouble/lufa_design-system';

function PriceInput({ value, onChange }) {
  return (
    <Input
      label="Price"
      type="number"
      value={value}
      onChange={onChange}
      startAdornment={<span>$</span>}
      helperText="Enter price in USD"
      min="0"
      step="0.01"
    />
  );
}
```

## Examples of usage

<BasicExample />

## Related Components

- **Button** - For form submission actions
- **Stack** - For organizing form layouts with consistent spacing
- **Form** - For comprehensive form handling (coming soon)
- **Textarea** - For multi-line text input (coming soon)
- **Select** - For dropdown selections (coming soon)

## TypeScript Support

The Input component is fully typed with TypeScript:

```tsx
import type { InputHTMLAttributes } from 'react';

export type InputProps = {
  label?: string;
  error?: string;
  helperText?: string;
  size?: 'small' | 'medium' | 'large';
  variant?: 'outlined' | 'filled';
  fullWidth?: boolean;
  startAdornment?: React.ReactNode;
  endAdornment?: React.ReactNode;
} & Omit<InputHTMLAttributes<HTMLInputElement>, 'size'>;
```

This ensures type safety and autocomplete in your IDE.
